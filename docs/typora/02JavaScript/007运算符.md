# 07 运算符

## 01 运算符分类

按功能分类
1. 算数运算符
2. 位运算符
3. 关系运算符
4. 逻辑运算符
按参与运算操作数的个数
1. 单目运算i++
2. 双目运算a+b
3. 三目运算a<b?1:0
操作数:例如a+b中a和b就是2个操作数

## 02 运算符优先级与结合性
Js中，运算符优先级共分为15级，1级最高，15级最低，最高者优先计算，优先级相同则按结合性所规定的结合方向处理(从左往右算为左结合，从右往左算为右结合)表格见课时23最后

## 03 算数运算符
+、-、*、/、%加减乘除取余(取模)
*、/、%优先级高于+、-
**注意点**
1. 任何非数值类型的数据参与加法运算前会被转为数值类型。
`let num = 2 + true; // 3`
2. 任何数据和字符串相加，都会被先转化为字符串后再运算。
`let res = 1 + "23" ; //123`
3. 任何数据与NaN进行运算都是NaN。
4. 1,3两条适用于加法和减法，2只适用于加法。
5. 任何数据字符串相减，字符串都会先被转化为数值类型。
`let res = 1 - "23" //-22`
6. 乘除法注意点和减法一样。1 3 5 三条

**取模(取余)运算注意点**
m%n=余数
1. 如果m＞n，则正常取余。
2. 如果m＜n，则结果为m。
3. 如果n是0，则结果为NaN。
4. 取模结果的正负性与m的正负性有关，与n的正负性无关。
```javascript
let res = 10 % -3; //1
let res = -10 % 3; //-1
```

## 04 赋值运算符
=（简单赋值运算符）+=、-=、*=、/=、%=（复合赋值运算符）比算数运算符优先级低，具有右结合性（从右到左计算）。

## 05 自增运算符
++ 、 --
表达式：表达式是用运算符连接在一起的有意义的语句（例：a = b * 5）。
1. 常量不能使用自增/自减运算符
```javascript
a = 5++; //错
```
2. 表达式不能用自增/自减运算符
```javascript
let a = (b+5)++; //错
let a = b++ + 5; //对，表示b先加5再自增
```
3. 企业开发中自增/自减运算符最好单独出现，不要出现在表达式中，原因是不便于阅读。

## 06 关系运算符
1. `>、<、>=、<=、==、!=、===、!==`
2. `==`只判断取值是否相等，不判断数据类型是否相同。
```javascript
let res = 1 == '1'; //true
let res = 1 == 1; //true
```
3. `===`即判断取值，又判断数据类型是否相同。
```javascript
let res = 1 === '1'; //false
let res = 1 === 1; //true
```

**注意点**
1. 对于非数值类型的数据，会先转换为数值类型，再进行判断。
```javascript
let res = 1 > true;//1>1 --> false
let res = 1 > false;//1>0 --> true
let res = 1 > null;//1>0 -->true
let res = 1 > "10";//1>10 -->false
```
2. 任何数据与NaN比较都会返回false。
```javascript
let res = NaN>0;//false
let res = NaN<0;//false
let res = NaN==0;//false
let res = undefined<0;//false
let res = 'a'<0;//false
```
3. 如果参与比较的都是字符串，那么就不会转换为数值类型再比较，而是比较字符串类型的Unicode编码，
```javascript
let res = "a" > "b"; //0061>0062 --> false
```
如果字符串由多个字符组成，如“abc”与“abb”比较，会逐个比较，先比较a与a，相等在比较b与b，相等再比较c与b，就是直至比较出不相等的时候，立即停止比较，给出大小判断结果。
4. null转化为数值为0
```javascript
let res = 1>null; //true
let res = 1<null; //false
```
**但是**
```javascript
null == 0;//false
undefined == 0;//false
null == undefined;//true,undefined是由null衍生出来的
NaN == NaN; //false
```
5. 如果要判断是否为NaN，则可用函数isNaN()
```javascript
let res = isNaN(num);
```
**结合性与优先级**
1. 左结合性
```javascript
let res = 10>5>3; //true>3 --> 1>3 --> false
```
所以不能使用关系运算符判断区间，比如判断a是否为10~20之间的数。
2. “>、<、>=、<=”优先级高于“!=、==、===、!==”
```javascript
let res = 10 == 10 > 0;//10==true --> 10==1 -->false
```
## 07 逻辑运算符
“&&、||、！”与或非

**优先级与结合性**
1. 左结合性，&&优先级高于||
```javascript
let res = true || false && false //true
```

**注意点**
1. 对于非布尔类型的会先转化为布尔类型，再逻辑运算。
```javascript
let res = !0; //!false --> true
let res =!1; //!true --> false
```
2. 在逻辑与"&&"运算中，如果不是布尔类型，会先转化为布尔类型，但返回值有特点。
格式：条件A && 条件B
如果条件A不成立，就返回条件A
如果条件A成立，无论B怎样，都会返回B
```javascript
let res = 0 && 123; //0
let res = null && 123; //null
let res = 1 && 123;//123
let res = 1 && null; //null
```
3. 在逻辑或"||"运算中，如果不是布尔类型，会先转化为布尔类型，但返回值有特点。
格式：条件A || 条件B
如果条件A成立，就返回条件A
如果条件A不成立，无论B怎样，都会返回B
```javascript
let res = 666 || 0; //666
let res = 0 || 123;// 123
let res = 0 || null; // null
```
4. 在逻辑与运算中，有逻辑短路现象，只要前面为假，后面就不执行了。
在逻辑或运算中，有逻辑短路现象，只要前面为真，后面就不执行了。
```javascript
let res = (1>0) && (num ++>0); //输出num判断是否自增
```
## 08 逗号运算符
1. 一般用于减缓代码
```javascript
let a, b; //同时定义多个变量
a = 10, b = 5; //同时初始化多个变量
```
2. 优先级是所有运算符中最低的
结合性是左结合性。
3. 它也是一个运算符，也有运算结果，运算结果是最后一个表达式的结果。
```javascript
let res = ((1+1), (2+2), (3+3)); //6
```
## 09 三目运算符
条件表达式?结果A:结果B

## 10 综合题
```javascript
let a = 10, b ,c;
b = a = c;
/*
考察结合性，=为右结合性，先把c的值undefined赋值给a，再把a的值undefined赋值给b
*/
```

```javascript
let res = 6 == 6 == 6;
/*
==为左结合性，6==6为true，true==6-->1==6为false，res为false
*/
```

```javascript
let res = 1 == 6 >= 3;
/*
>=优先级高于==，1==true --> 1==1 -->true ， res=true
*/
```

```javascript
//问两者区别
let res = 1+1, 2+2, 3+3;
let res = (1+1, 2+2, 3+3);
/*
由于逗号优先级最低
所以1式中会把1+1的值2赋值给res，然后2+2，3+3是没有意义的表达式，就会报错。
2式中不会报错，res=6
*/
```

```javascript
let a = 5;
let res1 = ++a + ++a;//6+7=13
let res2 = a++ + a++;//5+6=11
```